version: '3.8'

services:
  high-performance-span:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: high-performance-span
    image: high-performance-span:latest
    environment:
      - DOTNET_ENVIRONMENT=Production
      - DOTNET_EnableDiagnostics=0
    networks:
      - span-network
    restart: unless-stopped

networks:
  span-network:
    driver: bridge

# ============================================
# Usage:
# ============================================
# Build and run:
#   docker-compose up --build
#
# View logs:
#   docker-compose logs -f
#
# Stop:
#   docker-compose down
# ============================================
#
# What This Demonstrates:
# ============================================
# - Zero-allocation string parsing
# - Array slicing without copying
# - Stack-based processing with stackalloc
# - ReadOnlySpan for immutability
# - Memory<T> for async scenarios
#
# PERFORMANCE:
# - String parsing: 100x faster than Split()
# - Array operations: Zero extra allocations
# - Stack buffers: Instant allocation/cleanup
# - GC impact: Near zero
# ============================================
