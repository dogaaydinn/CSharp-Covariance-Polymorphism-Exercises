# ============================================================================
# Micro-Video Platform - Environment Configuration
# ============================================================================
# NOTE: This is a template file. Copy to .env.local and customize.
# NEVER commit .env.local to version control (add to .gitignore)!

# ============================================================================
# ASPNETCORE SETTINGS
# ============================================================================
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:8080

# ============================================================================
# POSTGRESQL SETTINGS
# ============================================================================
POSTGRES_DB=microvideo
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Production: Use strong password
# POSTGRES_PASSWORD=your-strong-password-here

# ============================================================================
# REDIS SETTINGS
# ============================================================================
REDIS_PASSWORD=redis

# Production: Use strong password
# REDIS_PASSWORD=your-strong-redis-password

# ============================================================================
# RABBITMQ SETTINGS
# ============================================================================
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# Production: Use strong credentials
# RABBITMQ_USER=admin
# RABBITMQ_PASSWORD=your-strong-rabbitmq-password

# ============================================================================
# JWT AUTHENTICATION SETTINGS
# ============================================================================
JWT_SECRET=your-super-secret-key-change-in-production-minimum-32-characters
JWT_ISSUER=MicroVideoPlatform
JWT_AUDIENCE=MicroVideoPlatform
JWT_EXPIRY_MINUTES=60

# Production: Generate a strong secret
# openssl rand -base64 32
# JWT_SECRET=generated-strong-secret-here

# ============================================================================
# PROCESSING WORKER SETTINGS
# ============================================================================
PROCESSING_SIMULATE_DELAY=true
PROCESSING_DELAY_SECONDS=5

# Production: Disable simulation
# PROCESSING_SIMULATE_DELAY=false

# ============================================================================
# ML.NET SETTINGS
# ============================================================================
ML_MODEL_PATH=/app/models/video-classifier.zip
ML_CONFIDENCE_THRESHOLD=0.7

# ============================================================================
# RATE LIMITING SETTINGS
# ============================================================================
RATE_LIMITING_ENABLED=true
RATE_LIMITING_PERMIT_LIMIT=100
RATE_LIMITING_WINDOW_SECONDS=60

# Production: Adjust based on load
# RATE_LIMITING_PERMIT_LIMIT=500
# RATE_LIMITING_WINDOW_SECONDS=60

# ============================================================================
# LOGGING SETTINGS
# ============================================================================
SERILOG_MINIMUM_LEVEL=Information

# Development: Use Debug for verbose logs
# SERILOG_MINIMUM_LEVEL=Debug

# Production: Use Warning or Error
# SERILOG_MINIMUM_LEVEL=Warning

# ============================================================================
# OBSERVABILITY SETTINGS (OpenTelemetry)
# ============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=MicroVideoPlatform
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Set to true to enable Swagger in development
ENABLE_SWAGGER=true

# Set to true to seed database with sample data
SEED_DATABASE=true

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================
# Before deploying to production, ensure:
# 1. ✅ Strong POSTGRES_PASSWORD (minimum 16 characters)
# 2. ✅ Strong REDIS_PASSWORD (minimum 16 characters)
# 3. ✅ Strong RABBITMQ_PASSWORD (minimum 16 characters)
# 4. ✅ Strong JWT_SECRET (minimum 32 characters)
# 5. ✅ ASPNETCORE_ENVIRONMENT=Production
# 6. ✅ ENABLE_SWAGGER=false
# 7. ✅ SERILOG_MINIMUM_LEVEL=Warning
# 8. ✅ PROCESSING_SIMULATE_DELAY=false
# 9. ✅ Configure proper OTEL_EXPORTER_OTLP_ENDPOINT
# 10. ✅ Review and adjust RATE_LIMITING settings
