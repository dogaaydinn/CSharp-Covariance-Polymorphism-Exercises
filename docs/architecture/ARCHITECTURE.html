<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>&#127959;ï¸ Architecture Overview | Advanced C# Concepts </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="&#127959;ï¸ Architecture Overview | Advanced C# Concepts ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/dogaaydinn/CSharp-Covariance-Polymorphism-Exercises/blob/master/docs/architecture/ARCHITECTURE.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="-architecture-overview">ğŸ—ï¸ Architecture Overview</h1>

<h2 id="system-architecture">System Architecture</h2>
<p>This document describes the enterprise-level architecture of the Advanced C# Concepts project.</p>
<hr>
<h2 id="-high-level-architecture-c4-model">ğŸ“ High-Level Architecture (C4 Model)</h2>
<h3 id="level-1-system-context-diagram">Level 1: System Context Diagram</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    Advanced C# Concepts                         â”‚
â”‚                  Educational Framework                          â”‚
â”‚                                                                 â”‚
â”‚  Purpose: Demonstrate advanced C# programming patterns         â”‚
â”‚  Technology: .NET 8, C# 12                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                â”‚
               â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
               â”‚         â”‚      â”‚        â”‚
               â”‚ Developers    â”‚  Students â”‚
               â”‚         â”‚      â”‚        â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="level-2-container-diagram">Level 2: Container Diagram</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Advanced C# Concepts System                     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚  Core Library  â”‚  â”‚   Demo CLI     â”‚  â”‚   Benchmarks     â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ - Polymorphism â”‚  â”‚ - Examples     â”‚  â”‚ - BenchmarkDotNetâ”‚  â”‚
â”‚  â”‚ - Generics     â”‚  â”‚ - Tutorials    â”‚  â”‚ - Profiling      â”‚  â”‚
â”‚  â”‚ - Conversions  â”‚  â”‚ - Interactive  â”‚  â”‚ - Comparisons    â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                  â”‚                     â”‚            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                              â”‚                                  â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                     â”‚                  â”‚                        â”‚
â”‚                     â”‚  Testing Layer   â”‚                        â”‚
â”‚                     â”‚                  â”‚                        â”‚
â”‚                     â”‚  - Unit Tests    â”‚                        â”‚
â”‚                     â”‚  - Integration   â”‚                        â”‚
â”‚                     â”‚  - Mutation      â”‚                        â”‚
â”‚                     â”‚                  â”‚                        â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="level-3-component-diagram">Level 3: Component Diagram</h3>
<pre><code>Core Library Components:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Core Library                            â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Polymorphism    â”‚    â”‚  Type Variance   â”‚             â”‚
â”‚  â”‚  Components      â”‚    â”‚  Components      â”‚             â”‚
â”‚  â”‚                  â”‚    â”‚                  â”‚             â”‚
â”‚  â”‚ - Vehicle        â”‚    â”‚ - IProducer&lt;T&gt;   â”‚             â”‚
â”‚  â”‚ - Car/Bike       â”‚    â”‚ - IConsumer&lt;T&gt;   â”‚             â”‚
â”‚  â”‚ - Animal/Mammal  â”‚    â”‚ - Covariance     â”‚             â”‚
â”‚  â”‚ - Cat/Dog        â”‚    â”‚ - Contravariance â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Type Conversion â”‚    â”‚  Memory Mgmt     â”‚             â”‚
â”‚  â”‚  Components      â”‚    â”‚  Components      â”‚             â”‚
â”‚  â”‚                  â”‚    â”‚                  â”‚             â”‚
â”‚  â”‚ - Temperature    â”‚    â”‚ - Boxing         â”‚             â”‚
â”‚  â”‚ - Implicit Ops   â”‚    â”‚ - Unboxing       â”‚             â”‚
â”‚  â”‚ - Explicit Ops   â”‚    â”‚ - Value Types    â”‚             â”‚
â”‚  â”‚ - Pattern Match  â”‚    â”‚ - Ref Types      â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2 id="-architectural-patterns">ğŸ›ï¸ Architectural Patterns</h2>
<h3 id="1-layered-architecture">1. Layered Architecture</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Presentation Layer                  â”‚
â”‚  (Console Application / Demos)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Application Layer                   â”‚
â”‚  (Use Cases / Business Logic)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Domain Layer                        â”‚
â”‚  (Core Concepts / Entities)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Infrastructure Layer                â”‚
â”‚  (Logging / Metrics / I/O)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="2-solid-principles-implementation">2. SOLID Principles Implementation</h3>
<h4 id="single-responsibility-principle-srp">Single Responsibility Principle (SRP)</h4>
<p>Each class has one reason to change:</p>
<ul>
<li><code>Vehicle</code> - Handles vehicle behavior</li>
<li><code>Temperature</code> - Handles temperature conversions</li>
<li><code>BoxingUnboxing</code> - Demonstrates boxing/unboxing</li>
</ul>
<h4 id="openclosed-principle-ocp">Open/Closed Principle (OCP)</h4>
<p>Open for extension, closed for modification:</p>
<pre><code class="lang-csharp">public abstract class Vehicle  // Closed for modification
{
    public abstract void Drive();
}

public class ElectricCar : Vehicle  // Open for extension
{
    public override void Drive() =&gt; Console.WriteLine(&quot;Electric drive&quot;);
}
</code></pre>
<h4 id="liskov-substitution-principle-lsp">Liskov Substitution Principle (LSP)</h4>
<p>Subtypes must be substitutable for base types:</p>
<pre><code class="lang-csharp">Vehicle vehicle = new Car(); // LSP - Car can substitute Vehicle
vehicle.Drive(); // Works correctly
</code></pre>
<h4 id="interface-segregation-principle-isp">Interface Segregation Principle (ISP)</h4>
<p>Many specific interfaces &gt; one general interface:</p>
<pre><code class="lang-csharp">public interface IProducer&lt;out T&gt; { T Produce(); }
public interface IConsumer&lt;in T&gt; { void Consume(T item); }
// Segregated instead of: IHandler&lt;T&gt; { T Get(); void Set(T item); }
</code></pre>
<h4 id="dependency-inversion-principle-dip">Dependency Inversion Principle (DIP)</h4>
<p>Depend on abstractions, not concretions:</p>
<pre><code class="lang-csharp">// High-level depends on abstraction
public class DemoRunner
{
    private readonly IProducer&lt;Animal&gt; _producer;
    public DemoRunner(IProducer&lt;Animal&gt; producer) =&gt; _producer = producer;
}
</code></pre>
<hr>
<h2 id="-module-structure">ğŸ“¦ Module Structure</h2>
<h3 id="namespace-organization">Namespace Organization</h3>
<pre><code>AdvancedCsharpConcepts
â”œâ”€â”€ Beginner
â”‚   â”œâ”€â”€ Override_Upcast_Downcast
â”‚   â”‚   â”œâ”€â”€ Vehicle.cs
â”‚   â”‚   â”œâ”€â”€ Car.cs
â”‚   â”‚   â””â”€â”€ Bike.cs
â”‚   â”œâ”€â”€ Polymorphism_AssignCompatibility
â”‚   â”‚   â”œâ”€â”€ Animal.cs
â”‚   â”‚   â”œâ”€â”€ Mammal.cs
â”‚   â”‚   â”œâ”€â”€ Cat.cs
â”‚   â”‚   â”œâ”€â”€ Dog.cs
â”‚   â”‚   â””â”€â”€ AssignmentCompatibility.cs
â”‚   â””â”€â”€ Upcast_Downcast
â”‚       â”œâ”€â”€ Employee.cs
â”‚       â””â”€â”€ Manager.cs
â”œâ”€â”€ Intermediate
â”‚   â”œâ”€â”€ BoxingUnboxing
â”‚   â”‚   â””â”€â”€ BoxingUnboxing.cs
â”‚   â””â”€â”€ CovarianceContravariance
â”‚       â”œâ”€â”€ Covariance.cs
â”‚       â””â”€â”€ CovarianceContravariance.cs
â”œâ”€â”€ Advanced
â”‚   â”œâ”€â”€ ExplicitImplicitConversion
â”‚   â”‚   â”œâ”€â”€ Temperature.cs
â”‚   â”‚   â””â”€â”€ ExplicitImplicitConversion.cs
â”‚   â””â”€â”€ GenericCovarianceContravariance
â”‚       â”œâ”€â”€ IProducer.cs
â”‚       â”œâ”€â”€ IConsumer.cs
â”‚       â”œâ”€â”€ AnimalProducer.cs
â”‚       â”œâ”€â”€ CatProducer.cs
â”‚       â”œâ”€â”€ DogProducer.cs
â”‚       â””â”€â”€ AnimalConsumer.cs
â””â”€â”€ Program.cs
</code></pre>
<hr>
<h2 id="-data-flow-diagrams">ğŸ”„ Data Flow Diagrams</h2>
<h3 id="polymorphic-dispatch-flow">Polymorphic Dispatch Flow</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  List&lt;Vehicle&gt; â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ foreach
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  vehicle   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ .Drive()
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Virtual   â”‚
    â”‚ Dispatch   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”€â”
â”‚ Car  â”‚   â”‚ Bike â”‚
â”‚.Driveâ”‚   â”‚.Driveâ”‚
â””â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="variance-conversion-flow">Variance Conversion Flow</h3>
<pre><code>Covariance (out T):
  IProducer&lt;Dog&gt;
       â”‚
       â”‚ Upcast (implicit)
       â–¼
  IProducer&lt;Animal&gt;

Contravariance (in T):
  IConsumer&lt;Animal&gt;
       â”‚
       â”‚ Downcast (implicit)
       â–¼
  IConsumer&lt;Dog&gt;
</code></pre>
<hr>
<h2 id="-design-patterns">ğŸ¯ Design Patterns</h2>
<h3 id="1-template-method-pattern">1. Template Method Pattern</h3>
<pre><code class="lang-csharp">public abstract class Vehicle
{
    public void StartJourney()
    {
        StartEngine();
        Drive(); // Template method
        StopEngine();
    }

    protected abstract void Drive();
}
</code></pre>
<h3 id="2-strategy-pattern-variance">2. Strategy Pattern (Variance)</h3>
<pre><code class="lang-csharp">public interface IProducer&lt;out T&gt;
{
    T Produce(); // Strategy for producing T
}
</code></pre>
<h3 id="3-factory-pattern-planned">3. Factory Pattern (Planned)</h3>
<pre><code class="lang-csharp">public interface IVehicleFactory
{
    Vehicle CreateVehicle();
}
</code></pre>
<hr>
<h2 id="-performance-considerations">âš¡ Performance Considerations</h2>
<h3 id="virtual-method-call-overhead">Virtual Method Call Overhead</h3>
<pre><code>Direct Method Call:    ~0.3 ns
Virtual Method Call:   ~0.8 ns  (2.7x slower)
Interface Call:        ~1.2 ns  (4x slower)

Trade-off: Flexibility vs Performance
</code></pre>
<h3 id="boxing-allocation-impact">Boxing Allocation Impact</h3>
<pre><code>Generic (no boxing):   0 bytes allocated
Boxing value type:     24 bytes per operation

Recommendation: Use generics to avoid boxing
</code></pre>
<h3 id="memory-layout">Memory Layout</h3>
<pre><code>Value Types (struct):
  - Stack allocated (if local)
  - Inline in containing type
  - No GC pressure

Reference Types (class):
  - Heap allocated
  - Pointer overhead (8/16 bytes)
  - GC tracked
</code></pre>
<hr>
<h2 id="-security-architecture">ğŸ”’ Security Architecture</h2>
<h3 id="input-validation">Input Validation</h3>
<p>All public APIs validate inputs to prevent:</p>
<ul>
<li>Null reference exceptions</li>
<li>Type casting failures</li>
<li>Invalid conversions</li>
</ul>
<h3 id="type-safety">Type Safety</h3>
<pre><code class="lang-csharp">// Unsafe cast
Car car = (Car)vehicle; // Can throw InvalidCastException

// Safe cast with 'as'
Car? car = vehicle as Car; // Returns null if cast fails

// Safe cast with pattern matching
if (vehicle is Car car)
{
    car.Honk();
}
</code></pre>
<hr>
<h2 id="-scalability-patterns">ğŸ“Š Scalability Patterns</h2>
<h3 id="future-enhancements">Future Enhancements</h3>
<ol>
<li><p><strong>Dependency Injection</strong></p>
<ul>
<li>Microsoft.Extensions.DependencyInjection</li>
<li>Service lifetimes (Singleton, Scoped, Transient)</li>
</ul>
</li>
<li><p><strong>Caching Strategy</strong></p>
<ul>
<li>Memory cache for frequently accessed data</li>
<li>Distributed cache for multi-instance scenarios</li>
</ul>
</li>
<li><p><strong>Async/Await Patterns</strong></p>
<ul>
<li>Asynchronous producers/consumers</li>
<li>ValueTask<t> for high-performance scenarios</t></li>
</ul>
</li>
<li><p><strong>Parallel Processing</strong></p>
<ul>
<li>Parallel.ForEach for batch processing</li>
<li>PLINQ for data-parallel operations</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-testing-strategy">ğŸ§ª Testing Strategy</h2>
<h3 id="test-pyramid">Test Pyramid</h3>
<pre><code>         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   E2E   â”‚  (10%)
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Integration â”‚  (20%)
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Unit Tests     â”‚  (70%)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="test-coverage-targets">Test Coverage Targets</h3>
<ul>
<li><strong>Unit Tests</strong>: &gt;90% code coverage</li>
<li><strong>Branch Coverage</strong>: &gt;85%</li>
<li><strong>Mutation Score</strong>: &gt;80%</li>
<li><strong>Performance Tests</strong>: All critical paths</li>
</ul>
<hr>
<h2 id="-monitoring--observability">ğŸ“ˆ Monitoring &amp; Observability</h2>
<h3 id="logging-architecture-planned">Logging Architecture (Planned)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Serilog
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Log Sinks   â”‚
â”‚              â”‚
â”‚ - Console    â”‚
â”‚ - File       â”‚
â”‚ - Seq        â”‚
â”‚ - Elasticsearch â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="metrics-collection-planned">Metrics Collection (Planned)</h3>
<pre><code>Application Metrics:
  - Method execution time
  - Boxing/unboxing frequency
  - Virtual dispatch count
  - Memory allocations
  - GC collections
</code></pre>
<hr>
<h2 id="-deployment-architecture">ğŸš€ Deployment Architecture</h2>
<h3 id="container-strategy">Container Strategy</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Multi-Stage Docker Build           â”‚
â”‚                                      â”‚
â”‚  Stage 1: SDK (Build &amp; Test)        â”‚
â”‚  Stage 2: Publish (Optimized)       â”‚
â”‚  Stage 3: Runtime (Minimal)         â”‚
â”‚                                      â”‚
â”‚  Final Image: ~100 MB (Alpine)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="kubernetes-deployment-planned">Kubernetes Deployment (Planned)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Kubernetes Cluster            â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Deployment               â”‚ â”‚
â”‚  â”‚  - Replicas: 3                â”‚ â”‚
â”‚  â”‚  - Rolling Update             â”‚ â”‚
â”‚  â”‚  - Health Checks              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Service                  â”‚ â”‚
â”‚  â”‚  - LoadBalancer               â”‚ â”‚
â”‚  â”‚  - ClusterIP                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2 id="-architecture-decision-records-adrs">ğŸ“š Architecture Decision Records (ADRs)</h2>
<h3 id="adr-001-net-8-upgrade">ADR-001: .NET 8 Upgrade</h3>
<p><strong>Status</strong>: Accepted</p>
<p><strong>Context</strong>: Need modern .NET features and long-term support</p>
<p><strong>Decision</strong>: Upgrade from .NET 6 to .NET 8 LTS</p>
<p><strong>Consequences</strong>:</p>
<ul>
<li>âœ… Performance improvements (~15-25% faster)</li>
<li>âœ… C# 12 features (primary constructors, collection expressions)</li>
<li>âœ… LTS support until November 2026</li>
<li>âŒ Requires SDK 8.0.100+</li>
</ul>
<h3 id="adr-002-multi-stage-docker-builds">ADR-002: Multi-Stage Docker Builds</h3>
<p><strong>Status</strong>: Accepted</p>
<p><strong>Context</strong>: Need minimal production images</p>
<p><strong>Decision</strong>: Use multi-stage Docker builds with Alpine base</p>
<p><strong>Consequences</strong>:</p>
<ul>
<li>âœ… Reduced image size (~100MB vs ~200MB)</li>
<li>âœ… Faster deployments</li>
<li>âœ… Better security (minimal attack surface)</li>
<li>âŒ Slightly longer build times</li>
</ul>
<h3 id="adr-003-code-quality-analyzers">ADR-003: Code Quality Analyzers</h3>
<p><strong>Status</strong>: Accepted</p>
<p><strong>Context</strong>: Enforce coding standards and best practices</p>
<p><strong>Decision</strong>: Use StyleCop, Roslynator, and SonarAnalyzer</p>
<p><strong>Consequences</strong>:</p>
<ul>
<li>âœ… Consistent code style</li>
<li>âœ… Early detection of code smells</li>
<li>âœ… Security vulnerability detection</li>
<li>âŒ Longer build times</li>
<li>âŒ Initial configuration effort</li>
</ul>
<hr>
<h2 id="-future-architecture-evolution">ğŸ”® Future Architecture Evolution</h2>
<h3 id="phase-2-microservices-if-needed">Phase 2: Microservices (If Needed)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API Gateway                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        â”‚        â”‚            â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ Demo  â”‚ â”‚Benchâ”‚ â”‚ Docs  â”‚  â”‚ Metrics â”‚
â”‚Serviceâ”‚ â”‚Mark â”‚ â”‚Serviceâ”‚  â”‚ Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="phase-3-event-driven-architecture">Phase 3: Event-Driven Architecture</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Producer  â”‚â”€â”€â”€â”€â–¶â”‚ Event Bus   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  (RabbitMQ) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                   â”‚  Consumer   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<p><strong>Document Version</strong>: 1.0.0
<strong>Last Updated</strong>: 2025-01-14
<strong>Author</strong>: DoÄŸa AydÄ±n
<strong>Status</strong>: Living Document</p>
<hr>
<p><em>This architecture document evolves with the project. See CHANGELOG.md for version history.</em></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/dogaaydinn/CSharp-Covariance-Polymorphism-Exercises/blob/master/docs/architecture/ARCHITECTURE.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright Â© 2024 - Advanced C# Concepts
        </div>
      </div>
    </footer>
  </body>
</html>
